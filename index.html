<!doctype html>
<html>
  <head>
    <title>Israel Tax Calculator (Monthly) 2019</title>
  </head>
  <body>
    <p>This is an example paragraph. Anything in the <strong>body</strong> tag will appear on the page, just like this <strong>p</strong> tag and its contents.</p>
    <form id="electric-appliances">
    <hr>
      <div>
      Select an appliance:
          <select>
              <option value="[0.55,4.1]">Frost-free refrigerator (day)</option>
              <option value="[0.8,2.73]">Frost-free freezer (day)</option>
              <option value="[1,2.2]">Dishwasher (cycle)</option>
          </select>
      </div>
    <br>
    <div>
    <br>
    <table>
    <!-- Add feature: press a (+) button to add more employers -->
      <tr>
        <th>Employer name</th>
        <th>Taxable income (158)</th> 
    	<th>Income Tax Paid (042)</th>
        <th>Employee pension deposits (045)</th>
        <th>Employer pension deposits + Pitsuyim (248)</th>
        <th>Insured Income (244)</th>
      </tr>
      <tr>
        <td><input type="text" name="employerName1" value="Employer 1"/></td> 
        <td><input type="number" name="taxableIncome1" /> &#8362</td> 
        <td><input type="number" name="taxPaid1" /></td>
        <td><input type="number" name="employeePension1"/></td>
        <td><input type="number" name="employerPension1" /></td>
        <td><input type="number" name="insuredIncome1" /></td>
      </tr>
      <tr>
        <td><input type="text" name="employerName2" value="Employer 2"/></td>
        <td><input type="number" name="taxableIncome2" />&#8362</td>
        <td><input type="number" name="taxPaid2" /></td>
        <td><input type="number" name="employeePension2"/></td>
        <td><input type="number" name="employerPension2" /></td>
        <td><input type="number" name="insuredIncome2" /></td>
      </tr>
      <tr>
        <td><input type="text" name="employerName3" value="Employer 3"/></td>
        <td><input type="number" name="taxableIncome3" />&#8362</td>
        <td><input type="number" name="taxPaid3" /></td>
        <td><input type="number" name="employeePension3"/></td>
        <td><input type="number" name="employerPension3" /></td>
        <td><input type="number" name="insuredIncome3" /></td>
      </tr>
    </table>
    </div>
    <div>
    <br>
    <table>
      <tr>
        <th></th>
        <th>Number of tax credits (monthly)</th> 
        <!-- Add option to set one number for all months -->
        <!-- Maybe convert to dropdown menu -->
      </tr>
      <tr>
        <td>Jan</td>
        <td><input type="number" name="janCredits" size="50"></td>
      </tr>
            <tr>
        <td>Feb</td>
        <td><input type="number" name="febCredits" ></td>
      </tr>
            <tr>
        <td>Mar</td>
        <td><input type="number" name="marCredits" /></td>
      </tr>
            <tr>
        <td>Apr</td>
        <td><input type="number" name="aprCredits" /></td>
      </tr>
            <tr>
        <td>May</td>
        <td><input type="number" name="mayCredits" /></td>
      </tr>
            <tr>
        <td>Jun</td>
        <td><input type="number" name="junCredits" /></td>
      </tr>
            <tr>
        <td>Jul</td>
        <td><input type="number" name="julCredits" /></td>
      </tr>
            <tr>
        <td>Aug</td>
        <td><input type="number" name="augCredits" /></td>
      </tr>
            <tr>
        <td>Sep</td>
        <td><input type="number" name="sepCredits" /></td>
      </tr>
            <tr>
        <td>Oct</td>
        <td><input type="number" name="octCredits" /></td>
      </tr>
            <tr>
        <td>Nov</td>
        <td><input type="number" name="novCredits" /></td>
      </tr>
            <tr>
        <td>Dec</td>
        <td><input type="number" name="decCredits" /></td>
      </tr>
    </table>
    </div>
    <div>
    <br>
    Optional independent pension contributions (135 or 268):
        <input id="units" step="any" type="number" /> &#8362
    </div>
    <div>
    <br>
    Charitable Donations
    <br>
        <table>
    <!-- Add feature: press a (+) button to add more employers -->
      <tr>
        <th>Institution</th>
        <th>Amount (037)</th> 
      </tr>
      <tr>
        <td><input type="text" name="charity1" /></td> 
        <td><input type="number" name="donation1" /> &#8362</td>
      </tr>
	  <tr>
        <td><input type="text" name="charity2" /></td> 
        <td><input type="number" name="donation2" /> &#8362</td>
      </tr>
      <tr>
        <td><input type="text" name="charity3" /></td> 
        <td><input type="number" name="donation3" /> &#8362</td>
      </tr>
      </table>
    </div>
    
    <div>
    <input type="submit" value="Calculate tax" />
    </div>
    </form>
    <hr />
    <div style="font-size: 1.5em;">
    Range: <span id="min">0.00</span> &#8362; &mdash; <span id="max">0.00</span> &#8362; <small style="font-size:0.6em">(depends on your model)</small>
    </div>
    <script type="text/javascript">
    document.querySelector('#electric-appliances').onsubmit = (function(e){
        e.preventDefault();
        var kwh = JSON.parse(document.querySelector('#electric-appliances select').value);
        var units = +document.querySelector('#units').value;
        var rate = 54.04;
        document.querySelector('#min').innerHTML = (/*kwh[0] + ' &times;' + units + ' &times; ' + rate + ' = ' +*/ (kwh[0]*units*(rate/100)).toFixed(2));
        document.querySelector('#max').innerHTML = (/*kwh[1] + ' &times;' + units + ' &times; ' + rate + ' = ' +*/ (kwh[1]*units*(rate/100)).toFixed(2));
        return false;
    });
    </script>
  </body>
</html>
